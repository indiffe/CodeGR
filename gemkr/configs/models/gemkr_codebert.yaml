model:
  arch: gemkr_codebert_dsi

  # =========================
  # Encoder (CodeBERT)
  # =========================
  encoder_name: /data/lizhen/CodeDSI/codebert-base
  freeze_encoder: true
  encoder_max_length: 512

  # =========================
  # Decoder (LLaMA)
  # =========================
  decoder_name: /data/lizhen/llama-7b
  hidden_size: 4096
  decoder_max_length: 64

  # =========================
  # ğŸ”´ DSI / Memory-critical settings
  # =========================
  prefix_len: 16                # â˜… å¿…é¡»ï¼šä¸è¦ç”¨ 512 token prefix
  freeze_decoder: true          # â˜… å¿…é¡»ï¼šå•å¡ 3090 å¿…é¡»å†»ç»“
  enable_gradient_checkpointing: true
  decoder_dtype: float16        # æ˜ç¡® dtypeï¼Œé¿å…æ··ä¹±

  # =========================
  # Framework flags
  # =========================
  load_finetuned: false
